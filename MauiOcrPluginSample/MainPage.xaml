<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:cv="clr-namespace:Camera.MAUI;assembly=Camera.MAUI"
             x:Class="MauiOcrPluginSample.MainPage"
             Title="OCR">

    <Grid>
        <!-- Cámara principal (tamaño completo) -->
        <cv:CameraView x:Name="cameraView" 
                       CamerasLoaded="cameraView_CamerasLoaded"/>

        <!-- Capa semitransparente con área de captura -->
        <Grid BackgroundColor="#80000000" 
              Padding="40">
            <Border x:Name="captureArea"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   HeightRequest="300"
                   WidthRequest="300"
                   Stroke="White"
                   StrokeThickness="2"
                   StrokeShape="Rectangle">
                <!-- Cámara para la captura real -->
                <cv:CameraView x:Name="realCaptureCamera"
                              HeightRequest="300"
                              WidthRequest="300"/>
            </Border>
        </Grid>

        <!-- Controles de acción -->
        <VerticalStackLayout VerticalOptions="End"
                             HorizontalOptions="Center"
                             Spacing="20"
                             Margin="0,0,0,40">

            <!-- Botón para capturar foto -->
            <Button Text="Capturar Foto" 
                    Clicked="OnCapturePhotoClicked"
                    WidthRequest="200"/>

            <!-- Botón para seleccionar de galería -->
            <Button Text="Seleccionar de Galería" 
                    Clicked="OnSelectFromGalleryClicked"
                    WidthRequest="200"/>

            <!-- Botón para alternar cámara -->
            <Button Text="Cambiar Cámara" 
                    Clicked="OnSwitchCameraClicked"
                    WidthRequest="200"/>
        </VerticalStackLayout>

        <!-- Indicador de carga -->
        <ActivityIndicator x:Name="loadingIndicator"
                           IsVisible="False"
                           IsRunning="True"
                           Color="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
    </Grid>
</ContentPage>